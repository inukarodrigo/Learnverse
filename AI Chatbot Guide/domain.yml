version: '3.1'
intents:
- affirm
- ask_apply_online
- ask_placements
- bot_challenge
- deny
- goodbye
- greet
- mood_great
- mood_unhappy
- my_name_is
- inform
- thankyou
- out_of_scope
- request_health_form
- ask_special_paper
- ask_virtual_classroom

slots:
  confirm_exercise:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: health_form
            requested_slot:
  exercise:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: exercise
  sleep:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: sleep

  stress:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: stress
  goal:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: goal

entities:
  - exercise
  - sleep
  - stress
  - goal
  - name

responses:
  utter_greet:
  - text: "Hi! How are you?"
  - text: "Heyyo. How are you?"
  - text: "Hii. How is your day going?"
    buttons:
      - title: "great"
        payload: "/mood_great"
      - title: "super sad"
        payload: "/mood_unhappy"
  utter_cheer_up:
  - text: 'Here is something to cheer you up:'
    image: https://i.imgur.com/nGF1K8f.jpg
  utter_did_that_help:
  - text: Did that help you?
  utter_happy:
  - text: Great!
  utter_goodbye:
  - text: Bye
  utter_iamabot:
  - text: I am Learny. I am a bot, powered by Rasa to help you with your learning journey.

  utter_my_name_is:
  - text: Nice to meet you

  utter_ask_confirm_exercise:
  - text: Did you study yesterday? Don't sweat it if you didn't run a marathon - walks count!

  utter_say_virtual_classroom:
  - text: In the virtual classroom you have a space to interact with the teacher and make your learning journey more easy. Please visit to our main menu and log into the virtual classroom to discover more!!

  utter_say_special_paper:
  - text: There are plenty of papers to practice what you learnt this far in out paper collection. Special paper is a paper made with questions related to only one or two lessons which are requested by the student. You can visit the special paper bot and send the relevant lesson numbers(one or two maximum) to get the special paper. This helps you to strengthen the knowledge in the specific subject area.

  utter_say_exercise:
  - text: "What kind of exercises, studies did you do ðŸ’ª ?"

  utter_ask_sleep:
  - text: "How much sleep did you get ðŸ’¤  last night?"

  utter_ask_diet:
  - text: "Did you stick to a healthy diet ðŸ¥¦  yesterday?"

  utter_ask_stress:
  - text: "Is your stress level low, medium, or high ðŸ§˜ ?"

  utter_ask_goal:
  - text: "Setting goals - even small ones - is a great way to focus your day. What do you want to accomplish today ðŸ¥‡ ?"

  utter_slots_values:
  - text: "Here's your daily wellness log:\n
            - studied?: {confirm_exercise}\n
            - Type of study: {exercise}\n
            - Sleep: {sleep}\n
            - Stress level: {stress}\n
            - Goal: {goal}"

#            - Stuck to a healthy diet?: {diet}\n


  utter_no_worries:
  - text: "No problem ;)"

  utter_ask_continue:
  - text: "Sorry, I don't quite understand. Do you want to continue?"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false

forms:
  health_form:
    required_slots:
      - confirm_exercise
      - exercise
      - sleep
      - stress
      - goal

actions:
  - utter_greet
  - utter_slots_values
#  - utter_submit
  - utter_ask_continue
  - utter_no_worries
  - validate_health_form #custom action - actions.py